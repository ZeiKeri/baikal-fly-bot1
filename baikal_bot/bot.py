import telebot
import time
import logging
import sys
from telebot import types

# ============ –ù–ê–°–¢–†–û–ô–ö–ê ============
TOKEN = '7632902868:AAFyNxN3tej53c8z8TY0_Ip-kPkxDWCeqwk'
bot = telebot.TeleBot(TOKEN)

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
logging.basicConfig(
    level=logging.INFO,
    format='%(asctime)s - %(name)s - %(levelname)s - %(message)s',
    handlers=[
        logging.StreamHandler(sys.stdout)
    ]
)
logger = logging.getLogger(__name__)


# ============ –§–£–ù–ö–¶–ò–ò –ë–û–¢–ê ============

@bot.message_handler(commands=['start'])
def send_welcome(message):
    """–û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–æ–º–∞–Ω–¥—ã /start"""
    markup = types.ReplyKeyboardMarkup(resize_keyboard=True)
    btn1 = types.KeyboardButton('üßµ –ö–∞—Ç–∞–ª–æ–≥ –º—É—à–µ–∫')
    btn2 = types.KeyboardButton('‚ùì –ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è')
    btn3 = types.KeyboardButton('üèîÔ∏è –û –ë–∞–π–∫–∞–ª–µ')
    btn4 = types.KeyboardButton('üë®‚Äçü¶≥ –û –º–∞—Å—Ç–µ—Ä–µ')
    markup.add(btn1, btn2, btn3, btn4)

    welcome_text = """
üé£ –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ —Ä—ã–±–æ–ª–æ–≤–Ω—ã–π –º–∞–≥–∞–∑–∏–Ω ¬´–ë–∞–π–∫–∞–ª—å—Å–∫–∏–µ –ú—É—à–∫–∏¬ª!

–ù–∞—à–∏ –º—É—à–∫–∏ —Å–æ–∑–¥–∞–Ω—ã —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –¥–ª—è —Ä—ã–± –ë–∞–π–∫–∞–ª–∞ –∏ –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã –Ω–∞ —Ö–∞—Ä–∏—É—Å–µ, –æ–º—É–ª–µ. –ö–∞–∂–¥–∞—è –º—É—à–∫–∞ ‚Äî —ç—Ç–æ –Ω–µ –ø—Ä–æ—Å—Ç–æ –ø—Ä–∏–º–∞–Ω–∫–∞, –∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç 30-–ª–µ—Ç–Ω–µ–≥–æ –æ–ø—ã—Ç–∞ —Ä—ã–±–∞–ª–∫–∏ –Ω–∞ —Å–∞–º–æ–º –≥–ª—É–±–æ–∫–æ–º –æ–∑–µ—Ä–µ –ø–ª–∞–Ω–µ—Ç—ã.

–ü–æ—á–µ–º—É –Ω–∞—à–∏ –º—É—à–∫–∏ –ª–æ–≤—è—Ç?
‚úÖ –°–æ–∑–¥–∞–Ω—ã –≤—Ä—É—á–Ω—É—é –ø–æ –∞–≤—Ç–æ—Ä—Å–∫–∏–º —Ä–µ—Ü–µ–ø—Ç–∞–º
‚úÖ –£—á—Ç–µ–Ω—ã –≤—Å–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –±–∞–π–∫–∞–ª—å—Å–∫–∏—Ö —Ä—ã–±
‚úÖ –ü—Ä–æ–≤–µ—Ä–µ–Ω—ã –≤ —Ä–µ–∞–ª—å–Ω—ã—Ö —É—Å–ª–æ–≤–∏—è—Ö –¥–µ—Å—è—Ç–∏–ª–µ—Ç–∏—è–º–∏
    """

    photo_url = 'https://avatars.mds.yandex.net/i?id=774c692e105d721cf364318c6e71d200_l-4324547-images-thumbs&n=13'
    bot.send_photo(
        chat_id=message.chat.id,
        photo=photo_url,
        caption=welcome_text,
        reply_markup=markup
    )


@bot.message_handler(func=lambda message: message.text == 'üßµ –ö–∞—Ç–∞–ª–æ–≥ –º—É—à–µ–∫')
def show_catalog(message):
    """–ü–æ–∫–∞–∑–∞—Ç—å –∫–∞—Ç–∞–ª–æ–≥"""
    group_link = "https://t.me/+WFHurIf4dQ4yMDAy"
    markup = types.InlineKeyboardMarkup()
    markup.add(types.InlineKeyboardButton("üì≤ –ü–µ—Ä–µ–π—Ç–∏ –≤ –≥—Ä—É–ø–ø—É", url=group_link))

    bot.send_message(
        message.chat.id,
        "üßµ *–í—Å–µ –Ω–∞—à–∏ –º—É—à–∫–∏ —Å–æ–±—Ä–∞–Ω—ã –≤ —Ç–µ–ª–µ–≥—Ä–∞–º-–≥—Ä—É–ø–ø–µ!*\n\n–¢–∞–º –≤—ã –Ω–∞–π–¥–µ—Ç–µ:\n‚Ä¢ –§–æ—Ç–æ –∏ –æ–ø–∏—Å–∞–Ω–∏–µ –∫–∞–∂–¥–æ–π –º—É—à–∫–∏\n‚Ä¢ –¶–µ–Ω—ã –∏ –Ω–∞–ª–∏—á–∏–µ\n‚Ä¢ –ê–∫—Ç—É–∞–ª—å–Ω—ã–µ –Ω–æ–≤–∏–Ω–∫–∏",
        reply_markup=markup,
        parse_mode='Markdown'
    )


@bot.message_handler(func=lambda message: message.text == '‚ùì –ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è')
def show_consultation(message):
    """–ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è"""
    username = "@Ze1Ker1"
    consultation_text = f"""
‚ùì *–ù—É–∂–Ω–∞ –ø–æ–º–æ—â—å —Å –≤—ã–±–æ—Ä–æ–º –º—É—à–µ–∫?*

–Ø –ø–æ–º–æ–≥—É:
‚Ä¢ –ü–æ–¥–æ–±—Ä–∞—Ç—å –º—É—à–∫–∏ –ø–æ–¥ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Å–µ–∑–æ–Ω
‚Ä¢ –ü–æ—Å–æ–≤–µ—Ç—É—é –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –≤–∏–¥–æ–≤ —Ä—ã–±—ã
‚Ä¢ –†–∞—Å—Å–∫–∞–∂—É –ø—Ä–æ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –ª–æ–≤–ª–∏ –Ω–∞ –ë–∞–π–∫–∞–ª–µ

üì© –ù–∞–ø–∏—à–∏—Ç–µ –º–Ω–µ –≤ –ª–∏—á–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è: {username}

–û–ø–∏—à–∏—Ç–µ:
‚Ä¢ –ö–∞–∫—É—é —Ä—ã–±—É –ø–ª–∞–Ω–∏—Ä—É–µ—Ç–µ –ª–æ–≤–∏—Ç—å
‚Ä¢ –í –∫–∞–∫–æ–µ –≤—Ä–µ–º—è –≥–æ–¥–∞
‚Ä¢ –ö–∞–∫–æ–π —Å–ø–æ—Å–æ–± –ª–æ–≤–ª–∏ –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ—Ç–µ
    """

    bot.send_message(
        message.chat.id,
        consultation_text,
        parse_mode='Markdown'
    )


@bot.message_handler(func=lambda message: message.text == 'üë®‚Äçü¶≥ –û –º–∞—Å—Ç–µ—Ä–µ')
def show_about_master(message):
    """–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –º–∞—Å—Ç–µ—Ä–µ"""
    about_text = """
üë®‚Äçü¶≥ *–ò—Å—Ç–æ—Ä–∏—è –º–∞—Å—Ç–µ—Ä–∞*:

–†—ã–±–∞–ª–∫–æ–π –Ω–∞—á–∞–ª –∑–∞–Ω–∏–º–∞—Ç—å—Å—è –≤ –Ω–∞—á–∞–ª–µ 70 –≥–æ–¥–æ–≤. –°–Ω–∞—á–∞–ª–∞ –∫–∞—Ä–∞—Å–∏–∫–∏ –∏ –≥–æ–ª—å—è–Ω—ã, —á–µ—Ä–µ–∑ –≥–æ–¥–∞ —Ç—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–∏–ª—Å—è –Ω–∞ –ê–Ω–≥–∞—Ä—É. –•–æ—Ä–æ—à–∏–µ —É–ª–æ–≤—ã —Ö–∞—Ä–∏—É—Å–∞ –∏ –õ–µ–Ω–∫–∞ –±—ã–ª–∏ –Ω–µ —Ä–µ–¥–∫–æ—Å—Ç—å. –û–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ —Å —Ä—ã–±–∞–ª–∫–æ–π –Ω–∞ –ê–Ω–≥–∞—Ä–µ –Ω–∞—á–∞–ª –∏–∑–≥–æ—Ç–∞–≤–ª–∏–≤–∞—Ç—å –º—É—à–∫–∏ –¥–ª—è —Å–µ–±—è –∏ –¥—Ä—É–∑–µ–π –≤–µ—Ä—Ö–æ–≤—ã–µ –∏ –≥—Ä—É–∑–æ–≤—ã–µ –Ω–∞ —Ö–∞—Ä–∏—É—Å–∞ –∏ –Ω–∞ –æ–≥—Ä–æ–º–Ω—ã—Ö —Ç—Ä–æ–π–Ω–∏–∫–∞—Ö –Ω–∞ –ª–µ–Ω–∫–∞. –í—Å—ë –º—É—à–∫–∏ –±—ã–ª–∏ –∏–∑ –ø–æ–¥—Ä—É—á–Ω—ã—Ö –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤, —à–∞—Ä—Ñ—ã, –∫–æ—Ñ—Ç—ã, —Ñ–ª–∞–∂–∫–∏ –∏ –Ω–∏—Ç–∫–∏ –≤—Å—ë —à–ª–æ –≤ –¥–µ–ª–æ. 

–ü–æ—Ç–æ–º –ø–æ—è–≤–∏–ª–æ—Å—å —É–≤–ª–µ—á–µ–Ω–∏–µ —Ä—ã–±–∞–ª–∫–æ–π –Ω–∞ —Ç–∞—ë–∂–Ω—ã—Ö –∏ –≥–æ—Ä–Ω—ã—Ö —Ä–µ—á–∫–∞—Ö, —Ç–∞–º —Ç—Ä–µ–±–æ–≤–∞–ª–∏—Å—å –±–æ–ª–µ–µ —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–Ω—ã–µ –º—É—à–∫–∏ –∏ –º–∞–ª–µ–Ω—å–∫–æ –æ—Ç–ª–∏—á–Ω—ã–µ –æ—Ç –ê–Ω–≥–∞—Ä—Å–∫–∏—Ö. –û—á–µ–Ω—å –∞–∫—Ç–∏–≤–Ω–æ –Ω–∞—á–∞–ª–∏ —Ä—ã–±–∞—á–∏—Ç—å –Ω–∞ –ê–Ω–≥–∞—Ä–µ –Ω–∞ –ø–æ–¥–ª–µ–¥–∫—É.

–ë–æ–ª—å—à–æ–π –ø—Ä–æ–≥—Ä–µ—Å—Å –ø–æ –º—É—Ö–æ–≤—è–∑–∞–Ω–∏—é –±—ã–ª —Å –Ω–∞—á–∞–ª–æ–º –æ—Å–≤–æ–µ–Ω–∏—è —Ä—ã–±–∞–ª–∫–∏ –Ω–∞ —Ö–∞—Ä–∏—É—Å–∞ –Ω–∞ –ë–∞–π–∫–∞–ª–µ. –°–∏–ª—å–Ω–æ —É–¥–∏–≤–ª—è–ª–æ —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏–µ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–π —Ä—ã–±—ã –ø–æ –≤–æ—Å—Ç–æ—á–Ω–æ–º—É –∏ –∑–∞–ø–∞–¥–Ω–æ–º—É –±–µ—Ä–µ–≥—É, —á—Ç–æ –∑–∏–º–æ–π, —á—Ç–æ –ª–µ—Ç–æ–º. –û—Ç–¥–µ–ª—å–Ω–æ–π —Ç–µ–º–æ–π —Å—Ç–æ–∏—Ç –∑–∏–º–Ω—ã–π –∑–∞–ª–∏–≤ –ü—Ä–æ–≤–∞–ª –∏ –°–µ–≤–µ—Ä–Ω—ã–π –ë–∞–π–∫–∞–ª....

–° –ø–æ—è–≤–ª–µ–Ω–∏–µ–º –æ–º—É–ª–µ–≤–æ–π —Ä—ã–±–∞–ª–∫–∏ –Ω–∞ —É–¥–æ—á–∫—É –≤–æ –≤—Å–µ—Ö –µ—ë –≤–∏–¥–∞—Ö, –æ—Å–≤–æ–∏–ª –∏ —ç—Ç–∏ –º—É—à–∫–∏. –°–∞–º —Ä—ã–±–∞—á—É –≤—Å–µ–º–∏ –Ω–µ –∑–∞–ø—Ä–µ—â—ë–Ω–Ω—ã–º–∏ —Å–ø–æ—Å–æ–±–∞–º–∏, –∫—Ä–æ–º–µ –Ω–∞—Ö–ª—ã—Å—Ç–∞...
    """

    bot.send_message(message.chat.id, about_text, parse_mode='Markdown')


@bot.message_handler(func=lambda message: message.text == 'üèîÔ∏è –û –ë–∞–π–∫–∞–ª–µ')
def show_about_Baikal(message):
    """–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ë–∞–π–∫–∞–ª–µ"""
    about_text = """
üèîÔ∏è *–û–∑–µ—Ä–æ –ë–∞–π–∫–∞–ª* - —É–Ω–∏–∫–∞–ª—å–Ω–æ–µ –º–µ—Å—Ç–æ –¥–ª—è —Ä—ã–±–∞–ª–∫–∏!

–ó–¥–µ—Å—å –æ–±–∏—Ç–∞—é—Ç:
1. –•–∞—Ä–∏—É—Å
2. –û–º—É–ª—å
3. –õ–µ–Ω–æ–∫
4. –¢–∞–π–º–µ–Ω—å (–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π –ª–æ–≤)

–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –±–∞–π–∫–∞–ª—å—Å–∫–æ–π —Ä—ã–±–∞–ª–∫–∏:
üé£ –°–µ–∑–æ–Ω–Ω–æ—Å—Ç—å - —É –∫–∞–∂–¥–æ–π —Ä—ã–±—ã —Å–≤–æ–π –ø–µ—Ä–∏–æ–¥ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
üåä –†–∞–∑–Ω—ã–µ —É—Å–ª–æ–≤–∏—è –Ω–∞ –≤–æ—Å—Ç–æ—á–Ω–æ–º –∏ –∑–∞–ø–∞–¥–Ω–æ–º –±–µ—Ä–µ–≥–∞—Ö
‚ùÑÔ∏è –ó–∏–º–Ω—è—è —Ä—ã–±–∞–ª–∫–∞ –∏–º–µ–µ—Ç —Å–≤–æ–∏ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏
    """

    bot.send_message(message.chat.id, about_text, parse_mode='Markdown')


# ============ –ó–ê–ü–£–°–ö –ë–û–¢–ê ============

if __name__ == '__main__':
    print("=" * 60)
    print("ü§ñ –ë–û–¢ '–ë–ê–ô–ö–ê–õ–¨–°–ö–ò–ï –ú–£–®–ö–ò' –ó–ê–ü–£–©–ï–ù –ù–ê RAILWAY")
    print("=" * 60)
    print(f"–¢–æ–∫–µ–Ω: {TOKEN[:10]}...")
    print("–ó–∞–ø—É—Å–∫–∞—é polling...")
    print("–î–ª—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏: Ctrl+C")
    print("=" * 60)

    # –ó–∞–ø—É—Å–∫ —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –æ—à–∏–±–æ–∫
    while True:
        try:
            logger.info("–ó–∞–ø—É—Å–∫–∞—é polling...")
            bot.polling(none_stop=True, interval=0, timeout=30)
        except Exception as e:
            logger.error(f"–û—à–∏–±–∫–∞: {e}")
            print(f"‚ö†Ô∏è –û—à–∏–±–∫–∞: {e}")
            print("üîÑ –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞—é —á–µ—Ä–µ–∑ 10 —Å–µ–∫—É–Ω–¥...")
            time.sleep(10)zz